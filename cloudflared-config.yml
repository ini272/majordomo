# Cloudflare Tunnel Configuration for Majordomo
# This file defines permanent tunnel routes for frontend and backend

# IMPORTANT: Replace <TUNNEL_ID> with your actual tunnel ID from `cloudflared tunnel create majordomo`
# Example: tunnel: a1b2c3d4-e5f6-7890-abcd-ef1234567890

tunnel: <TUNNEL_ID>
credentials-file: /home/user/.cloudflared/<TUNNEL_ID>.json

ingress:
  # Frontend - serves the React app
  - hostname: majordomo-frontend.trycloudflare.com
    service: http://localhost:3000

  # Backend - serves the FastAPI API
  - hostname: majordomo-backend.trycloudflare.com
    service: http://localhost:8000

  # Catch-all rule (required by cloudflared)
  - service: http_status:404
